# 스프링 핵심 내용 정리

## 다형성

- 실세계와 객체 지향을 1:1로 매칭 할 수 없기에 역할과 구현으로 세상을 구분
- 클라이언트는 역할만 보면 어느 구현이 오든 사용 가능
- 구현 대상의 내부 구조를 몰라도, 변경이 되어도 영향을 받지 않는다.
※ 클라이언트를 변경하진 않고, 서버의 구현 기능을 유연하게 변경할 수 있다.

## 스프링과 객체지향
스프링은 다형성을 극대화해서 이용가능하게 도와준다.

## 좋은 객체지향 설계 5가지 원칙
- SRP : 단일 책임 원칙 (single responsibility principle)
  1. 한 클래스는 하나의 책임만 가진다.
  2. 중요한 것은 기준의 변경이다.
  
- OCP : 개방-폐쇄 원칙 (open/closed principle)
  1. 확장에는 열려 있고, 변경에는 닫혀 있어야 한다.(다형성을 활용)
  
- LSP : 리스코프 치환원칙 (Liskov substitution principle)
  1. 프로그램의 정확성을 깨뜨리지 않으면서 하위 타입의 인스턴스로 바꿀 수 있어야 한다.

- ISP : 인터페이스 분리 원칙 (Interface segregation principle)
  1. 범용 인터페이스 하나보다 특정 인터페이스 별로 나누어야 한다.
  2. 인터페이스가 명확하고, 대체 가능성이 높아진다.

- DIP : 의존관계 역전원칙 (Dependency inversion principle)
  1. 추상화에 의존하고, 구체화에 의존하면 안된다.
  2. 쉽게 말해 구현 클래스에 의존하지 말고, 인터페이스에 의존해야 한다.

※ 다형성만으로 OCP, DIP를 지킬 수 없다. 따라서 다른 무엇가가 필요하다.


# IoC, DI

- 제어의 역전 IoC
  기존 프로그램은 클라이언트가 스스로 필요한 구현 객체를 생성하고, 연결하고, 실행했다.
  하지만 AppConfig 클래스가 프로그램의 제어 흐름을 가져가고 구현 객체는 자신의 로직 실행만 담당한다.
  이렇듯 제어 흐름을 직접하는 것이 아니라 외부에서 하는 것을 제어이 역전(IoC)라 한다.
  
- 의존관계 주입 DI
  의존관계는 정적인 클래스 의존 관계와 실행 시점에 결정되는 동적인 객체 의존 관계를 분리해서 생각해야 한다.
  
※ 실행 시점에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 실제 의존관계가 연결되는 것을 의존관계 주입이라 한다.

# 싱글톤 방식 주의점

- 싱글톤 패턴은 여러 클라이언트가 하나의 같은 객체 인스턴스를 공유하기 때문에 상태를 유지하게 설계하면 안된다.
- 무상태로 설계해야 한다.
  1. 특정 클라이언트 의존적인 필드X
  2. 특정 클라이언트 값 변경 X
  3. 가급적 읽기만
ex) 
